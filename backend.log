INFO:     Will watch for changes in these directories: ['/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [42203] using WatchFiles
2025-10-16 17:48:00,601 - server_v2 - INFO - MongoDB connection configured: mongodb://localhost:27017/api_autopilot
2025-10-16 17:48:00,601 - server_v2 - INFO - Redis cache configured: redis://localhost:6379
/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/server_v2.py:254: UserWarning: Field name "schema" in "APIFuzzRequest" shadows an attribute in parent "BaseModel"
  class APIFuzzRequest(BaseModel):
INFO:     Started server process [42223]
INFO:     Waiting for application startup.
2025-10-16 17:48:00,619 - server_v2 - INFO - API Autopilot V2 starting up...
2025-10-16 17:48:00,632 - server_v2 - INFO - MongoDB connection successful
2025-10-16 17:48:00,635 - server_v2 - INFO - Redis connection successful
INFO:     Application startup complete.
INFO:     127.0.0.1:64533 - "GET /api/v2/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64535 - "GET /api/v2/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64565 - "OPTIONS /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64566 - "OPTIONS /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64567 - "OPTIONS /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:64566 - "GET /api/v2/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:64567 - "GET /api/v2/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:64567 - "GET /api/v2/user/scripts HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:64661 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:64661 - "POST /api/v2/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:64661 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:64661 - "OPTIONS /api/v2/generate-tests HTTP/1.1" 200 OK
2025-10-16 17:48:25,867 - server_v2 - INFO - Inferring schema from captured API response
2025-10-16 17:48:25,868 - server_v2 - INFO - Generated 4 schema-based test cases
2025-10-16 17:48:25,868 - server_v2 - INFO - Using AI provider: openai with temperature: 0.1
2025-10-16 17:48:25,906 - server_v2 - INFO - Calling LLM to generate test script...
2025-10-16 17:49:02,365 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-16 17:49:02,382 - server_v2 - INFO - LLM returned 3598 characters of test code
INFO:     127.0.0.1:64661 - "POST /api/v2/generate-tests HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 64954) - "WebSocket /api/v2/ws/execute-tests" [accepted]
INFO:     connection open
2025-10-16 17:49:07,827 - test_execution_engine - INFO - Detected dependencies: ['joi', 'axios']
2025-10-16 17:49:07,834 - test_execution_engine - INFO - Starting dependency installation for TestFrameworkType.JEST
2025-10-16 17:49:11,789 - test_execution_engine - INFO - Dependency installation completed in 4.0s
2025-10-16 17:49:11,789 - test_execution_engine - INFO - Starting test execution with command: npx -y jest test.test.js --config jest.config.js --json --outputFile=results.json, timeout: 300s
2025-10-16 17:49:11,789 - test_execution_engine - INFO - Creating subprocess for command: npx -y jest...
2025-10-16 17:49:19,352 - test_execution_engine - INFO - Test execution completed in 7.6s
INFO:     127.0.0.1:49222 - "OPTIONS /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:49222 - "POST /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:49222 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
2025-10-16 17:51:01,101 - server_v2 - INFO - Inferring schema from captured API response
2025-10-16 17:51:01,102 - server_v2 - INFO - Generated 16 schema-based test cases
2025-10-16 17:51:01,102 - server_v2 - INFO - Using AI provider: openai with temperature: 0.1
2025-10-16 17:51:01,121 - server_v2 - INFO - Calling LLM to generate test script...
2025-10-16 17:51:55,538 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-16 17:51:55,544 - server_v2 - INFO - LLM returned 5332 characters of test code
INFO:     127.0.0.1:49272 - "POST /api/v2/generate-tests HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 49794) - "WebSocket /api/v2/ws/execute-tests" [accepted]
INFO:     connection open
2025-10-16 17:52:24,937 - test_execution_engine - INFO - Detected dependencies: ['joi', 'axios']
2025-10-16 17:52:24,940 - test_execution_engine - INFO - Starting dependency installation for TestFrameworkType.JEST
2025-10-16 17:52:38,660 - test_execution_engine - INFO - Dependency installation completed in 13.7s
2025-10-16 17:52:38,661 - test_execution_engine - INFO - Starting test execution with command: npx -y jest test.test.js --config jest.config.js --json --outputFile=results.json, timeout: 300s
2025-10-16 17:52:38,661 - test_execution_engine - INFO - Creating subprocess for command: npx -y jest...
2025-10-16 17:52:47,189 - test_execution_engine - INFO - Test execution completed in 8.5s
INFO:     127.0.0.1:50175 - "POST /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:50175 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/server_v2.py", line 1981, in websocket_test_execution_v2
    data = await websocket.receive_json()
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 158, in receive_json
    self._raise_on_disconnect(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 130, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, None)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/server_v2.py", line 2015, in websocket_test_execution_v2
    await websocket.send_json({
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 198, in send_json
    await self.send({"type": "websocket.send", "text": text})
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 97, in send
    await self._send(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 50, in sender
    await send(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 375, in asgi_send
    raise RuntimeError(msg % message_type)
RuntimeError: Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 250, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 151, in __call__
    await self.app(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 77, in __call__
    await self.app(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 373, in handle
    await self.app(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 96, in app
    await wrap_app_handling_exceptions(app, session)(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 94, in app
    await func(session)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 348, in app
    await dependant.call(**values)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/server_v2.py", line 2024, in websocket_test_execution_v2
    await websocket.close()
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 203, in close
    await self.send(
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 97, in send
    await self._send(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 50, in sender
    await send(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 375, in asgi_send
    raise RuntimeError(msg % message_type)
RuntimeError: Unexpected ASGI message 'websocket.close', after sending 'websocket.close' or response already completed.
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/server_v2.py", line 1981, in websocket_test_execution_v2
    data = await websocket.receive_json()
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 158, in receive_json
    self._raise_on_disconnect(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 130, in _raise_on_disconnect
    raise WebSocketDisconnect(message["code"], message.get("reason"))
starlette.websockets.WebSocketDisconnect: (1001, None)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/server_v2.py", line 2015, in websocket_test_execution_v2
    await websocket.send_json({
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 198, in send_json
    await self.send({"type": "websocket.send", "text": text})
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 97, in send
    await self._send(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 50, in sender
    await send(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 375, in asgi_send
    raise RuntimeError(msg % message_type)
RuntimeError: Unexpected ASGI message 'websocket.send', after sending 'websocket.close' or response already completed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 250, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 151, in __call__
    await self.app(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 77, in __call__
    await self.app(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 373, in handle
    await self.app(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 96, in app
    await wrap_app_handling_exceptions(app, session)(scope, receive, send)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 94, in app
    await func(session)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 348, in app
    await dependant.call(**values)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/server_v2.py", line 2024, in websocket_test_execution_v2
    await websocket.close()
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 203, in close
    await self.send(
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/websockets.py", line 97, in send
    await self._send(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 50, in sender
    await send(message)
  File "/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 375, in asgi_send
    raise RuntimeError(msg % message_type)
RuntimeError: Unexpected ASGI message 'websocket.close', after sending 'websocket.close' or response already completed.
INFO:     connection closed
INFO:     connection closed
INFO:     127.0.0.1:51594 - "GET /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51594 - "GET /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51595 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51595 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51640 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:51640 - "POST /api/v2/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:51640 - "OPTIONS /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51640 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51657 - "OPTIONS /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51660 - "OPTIONS /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51662 - "OPTIONS /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:51664 - "OPTIONS /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51666 - "OPTIONS /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51667 - "OPTIONS /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:51664 - "GET /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51662 - "GET /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:51667 - "GET /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51664 - "GET /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:51666 - "GET /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51664 - "GET /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52930 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:52930 - "POST /api/v2/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:52930 - "OPTIONS /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52930 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:53072 - "OPTIONS /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:53074 - "OPTIONS /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:53074 - "GET /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:53075 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:53072 - "GET /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:53072 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:53112 - "OPTIONS /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53114 - "OPTIONS /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53117 - "OPTIONS /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:53118 - "OPTIONS /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53121 - "OPTIONS /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53122 - "OPTIONS /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:53114 - "GET /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53118 - "GET /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:53122 - "GET /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53114 - "GET /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:53112 - "GET /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53122 - "GET /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53559 - "OPTIONS /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53561 - "OPTIONS /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53562 - "OPTIONS /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:53565 - "OPTIONS /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53566 - "OPTIONS /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53567 - "OPTIONS /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:53566 - "GET /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:53565 - "GET /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53562 - "GET /api/v2/user/preferences HTTP/1.1" 200 OK
INFO:     127.0.0.1:53561 - "GET /api/v2/user/execution-history?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53567 - "GET /api/v2/user/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53561 - "GET /api/v2/user/stats HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'server_v2.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-16 19:45:14,582 - server_v2 - INFO - API Autopilot V2 shutting down...
INFO:     Application shutdown complete.
INFO:     Finished server process [42223]
2025-10-16 19:45:18,088 - server_v2 - INFO - MongoDB connection configured: mongodb://localhost:27017/api_autopilot
2025-10-16 19:45:18,089 - server_v2 - INFO - Redis cache configured: redis://localhost:6379
/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/server_v2.py:254: UserWarning: Field name "schema" in "APIFuzzRequest" shadows an attribute in parent "BaseModel"
  class APIFuzzRequest(BaseModel):
INFO:     Started server process [49307]
INFO:     Waiting for application startup.
2025-10-16 19:45:18,110 - server_v2 - INFO - API Autopilot V2 starting up...
2025-10-16 19:45:18,120 - server_v2 - INFO - MongoDB connection successful
2025-10-16 19:45:18,130 - server_v2 - INFO - Redis connection successful
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'server_v2.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-16 19:45:31,974 - server_v2 - INFO - API Autopilot V2 shutting down...
INFO:     Application shutdown complete.
INFO:     Finished server process [49307]
2025-10-16 19:45:33,828 - server_v2 - INFO - MongoDB connection configured: mongodb://localhost:27017/api_autopilot
2025-10-16 19:45:33,829 - server_v2 - INFO - Redis cache configured: redis://localhost:6379
/Users/sharajrewoo/DemoReposQA/ApiAutopilot/backend/server_v2.py:255: UserWarning: Field name "schema" in "APIFuzzRequest" shadows an attribute in parent "BaseModel"
  class APIFuzzRequest(BaseModel):
INFO:     Started server process [49336]
INFO:     Waiting for application startup.
2025-10-16 19:45:33,847 - server_v2 - INFO - API Autopilot V2 starting up...
2025-10-16 19:45:33,851 - server_v2 - INFO - MongoDB connection successful
2025-10-16 19:45:33,853 - server_v2 - INFO - Redis connection successful
INFO:     Application startup complete.
INFO:     127.0.0.1:59770 - "OPTIONS /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:59772 - "OPTIONS /api/v2/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:59773 - "OPTIONS /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:59770 - "GET /api/v2/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:59773 - "GET /api/v2/user/scripts HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:59772 - "GET /api/v2/auth/me HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:59798 - "OPTIONS /api/v2/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:59798 - "POST /api/v2/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:59798 - "GET /api/v2/user/scripts HTTP/1.1" 200 OK
INFO:     127.0.0.1:59816 - "OPTIONS /api/v2/generate-tests HTTP/1.1" 200 OK
2025-10-16 19:59:41,074 - server_v2 - INFO - Inferring schema from captured API response
2025-10-16 19:59:41,074 - server_v2 - INFO - Generated 16 schema-based test cases
2025-10-16 19:59:41,075 - server_v2 - INFO - Using AI provider: openai with temperature: 0.1
2025-10-16 19:59:41,117 - server_v2 - INFO - Calling LLM to generate test script...
2025-10-16 20:00:29,842 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-16 20:00:29,857 - server_v2 - INFO - LLM returned 4148 characters of test code
INFO:     127.0.0.1:59816 - "POST /api/v2/generate-tests HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 59960) - "WebSocket /api/v2/ws/execute-tests" [accepted]
INFO:     connection open
2025-10-16 20:00:41,947 - test_execution_engine - INFO - Detected dependencies: ['joi', 'axios']
2025-10-16 20:00:41,950 - test_execution_engine - INFO - Starting dependency installation for TestFrameworkType.JEST
2025-10-16 20:00:56,319 - test_execution_engine - INFO - Dependency installation completed in 14.4s
2025-10-16 20:00:56,320 - test_execution_engine - INFO - Starting test execution with command: npx -y jest test.test.js --config jest.config.js --json --outputFile=results.json, timeout: 300s
2025-10-16 20:00:56,320 - test_execution_engine - INFO - Creating subprocess for command: npx -y jest...
2025-10-16 20:02:02,123 - test_execution_engine - INFO - Test execution completed in 65.8s
2025-10-16 20:02:27,856 - server_v2 - INFO - WebSocket disconnected for execution 16c46b1d-78e9-46d7-8efc-0200be180f4b
INFO:     connection closed
INFO:     ('127.0.0.1', 52031) - "WebSocket /api/v2/ws/execute-tests" [accepted]
INFO:     connection open
2025-10-17 10:56:27,891 - test_execution_engine - INFO - Detected dependencies: ['joi', 'axios']
2025-10-17 10:56:27,893 - test_execution_engine - INFO - Starting dependency installation for TestFrameworkType.JEST
2025-10-17 10:56:45,286 - test_execution_engine - INFO - Dependency installation completed in 17.4s
2025-10-17 10:56:45,287 - test_execution_engine - INFO - Starting test execution with command: npx -y jest test.test.js --config jest.config.js --json --outputFile=results.json, timeout: 300s
2025-10-17 10:56:45,287 - test_execution_engine - INFO - Creating subprocess for command: npx -y jest...
2025-10-17 10:56:53,896 - test_execution_engine - INFO - Test execution completed in 8.6s
